<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Insulin Bolus Calculator</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin: 20px;
        }
        table {
            border-collapse: collapse;
            margin-top: 20px;
            width: 80%;
            margin-left: 10%;
        }
        table, th, td {
            border: 1px solid black;
        }
        th, td {
            padding: 10px;
            text-align: center;
        }
        th {
            background-color: #f2f2f2;
        }
    </style>
</head>
<body>

    <h1>Insulin Bolus Calculator</h1>
    <h3>This is a research tool only, do not use in medical contexts or to calculate and administer insulin.<br> Use T1D_Math at your own risk, and do not use the information or code to make medical decisions.</h3>
    <h4>Version 231221 - 18:50</h4>

    <!-- MCB & BMRB I love you with all my heart -->

    <!-- Form to input values -->
    <form id="bolusForm">
        <label for="insulinFactor">Insulin Factor:</label>
        <input type="number" id="insulinFactor" required step="0.1"><br>

        <label for="carbs">Number of Carbs:</label>
        <input type="number" id="carbs" required step="0.1"><br>

        <label for="pfus">Number of PFUs (x 10, so like carbs not KEs):</label>
        <input type="number" id="pfus" step="0.1"><br><br>

        <button type="button" onclick="calculateBolus()">Calculate Bolus</button>
    </form>

    <hr>

    <!-- Display results -->
    <h2>Results</h2>
    <p id="totalCarbs">Total Carbs + PFUs(x10): N/A</p>
    <p id="totalInsulin">Total Insulin: N/A</p>
    <p id="extendedPercentage">Extended Bolus Percentage: N/A</p>

<!-- Display CSV data as a table -->
<h2>CSV Data</h2>
<iframe id="csvDataTable" src="T1D_populate.html">
    <!-- Fallback content for browsers that don't support iframes -->
    Your browser does not support iframes.
</iframe>

    <h2>Formulae</h2>
    <p>PFU calculation = 1g fat is 9kcal; 1g protein is 4kcal; 100kcal is 1FPU (=1KE)</p>

    <h2>Examples</h2>
    <p>for PFUs, a quick rule of thumb is 10% - 20% of weight of meat - 10% for lean, 20% for fatty.</p>
    <p>Hamburgers should be 15% over 5 hours</p>


<script src="T1D_math_calc.js"></script>

</body>
</html>